<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DROP SHOP | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  /* === –ú–ò–ù–ò–ú–ê–õ–ò–°–¢–ò–ß–ù–ê–Ø –¶–í–ï–¢–û–í–ê–Ø –ü–ê–õ–ò–¢–†–ê === */
  :root {
    /* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
    --black: #000000;
    --white: #FFFFFF;
    --gray-dark: #1A1A1A;
    --gray-medium: #333333;
    --gray-light: #666666;
    --gray-soft: #F5F5F5;
    
    /* –ê–∫—Ü–µ–Ω—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
    --accent: #111111;
    --accent-light: #222222;
    --border: #E0E0E0;
    
    /* –°—Ç–∞—Ç—É—Å—ã */
    --success: #27ae60;
    --danger: #e74c3c;
    --warning: #f39c12;
    --info: #3498db;
    --profit: #2ecc71;
    --expense: #e74c3c;
    
    /* –¢–µ–∫—Å—Ç */
    --text-primary: #000000;
    --text-secondary: #666666;
    --text-light: #999999;
    
    /* –†–∞–∑–º–µ—Ä—ã */
    --container-width: 1400px;
    --header-height: 80px;
    
    /* –ü–µ—Ä–µ—Ö–æ–¥—ã */
    --transition: 0.2s ease;
    
    /* –®—Ä–∏—Ñ—Ç—ã */
    --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    --font-logo: 'Helvetica Neue', Helvetica, Arial, sans-serif;
  }

  /* === –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò === */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: var(--font-primary);
    color: var(--text-primary);
    line-height: 1.6;
    background-color: var(--white);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
  }

  .container {
    max-width: var(--container-width);
    margin: 0 auto;
    padding: 0 20px;
  }

  /* === –õ–û–ì–ò–ù === */
  .login-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: var(--gray-soft);
    padding: 2rem;
  }

  .login-box {
    background: var(--white);
    padding: 3rem;
    border-radius: 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 400px;
    border: 1px solid var(--border);
  }

  .login-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .login-icon {
    font-size: 2rem;
    color: var(--black);
    margin-bottom: 1rem;
  }

  .login-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    font-family: var(--font-logo);
  }

  .login-subtitle {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }

  .input-group {
    margin-bottom: 1.5rem;
  }

  .input-label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
    font-size: 0.9rem;
    font-weight: 500;
  }

  .input-field {
    width: 100%;
    padding: 1rem;
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 0;
    color: var(--text-primary);
    font-size: 1rem;
    transition: var(--transition);
  }

  .input-field:focus {
    outline: none;
    border-color: var(--black);
  }

  .login-btn {
    width: 100%;
    padding: 1rem;
    background: var(--black);
    color: var(--white);
    border: none;
    border-radius: 0;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .login-btn:hover {
    background: var(--gray-dark);
  }

  .error-message {
    background: rgba(231, 76, 60, 0.1);
    color: var(--danger);
    padding: 1rem;
    border-radius: 0;
    margin-top: 1.5rem;
    display: none;
    border: 1px solid rgba(231, 76, 60, 0.3);
    font-size: 0.9rem;
  }

  /* === –ê–î–ú–ò–ù –ö–û–ù–¢–ï–ô–ù–ï–† === */
  .admin-container {
    display: none;
    min-height: 100vh;
  }

  .admin-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--header-height);
    background-color: var(--white);
    border-bottom: 1px solid var(--border);
    z-index: 1000;
  }

  .header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 100%;
  }

  .admin-logo {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .admin-logo-icon {
    font-family: var(--font-logo);
    font-weight: 900;
    font-size: 24px;
    color: var(--black);
  }

  .admin-logo-text {
    font-family: var(--font-logo);
    font-weight: 900;
    font-size: 24px;
    color: var(--black);
  }

  .admin-actions {
    display: flex;
    gap: 1rem;
    align-items: center;
  }

  .admin-time {
    color: var(--text-secondary);
    font-size: 0.9rem;
  }

  .logout-btn {
    background: var(--white);
    color: var(--text-primary);
    border: 1px solid var(--border);
    padding: 0.5rem 1rem;
    border-radius: 0;
    cursor: pointer;
    font-size: 0.9rem;
    transition: var(--transition);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .logout-btn:hover {
    background: var(--gray-soft);
  }

  /* === –ù–ê–í–ò–ì–ê–¶–ò–Ø === */
  .admin-nav {
    background: var(--white);
    padding: 1rem 0;
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    border-bottom: 1px solid var(--border);
    margin-top: var(--header-height);
    position: sticky;
    top: var(--header-height);
    z-index: 999;
  }

  .nav-tab {
    padding: 0.8rem 1.5rem;
    background: transparent;
    border: 1px solid transparent;
    color: var(--text-secondary);
    border-radius: 0;
    cursor: pointer;
    font-weight: 500;
    transition: var(--transition);
    white-space: nowrap;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .nav-tab:hover {
    color: var(--text-primary);
  }

  .nav-tab.active {
    color: var(--text-primary);
    font-weight: 600;
    border-bottom: 2px solid var(--black);
  }

  .admin-content {
    padding: 2rem 0;
  }

  .tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
  }

  .tab-content.active {
    display: block;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* === –ö–ê–†–¢–û–ß–ö–ò –°–¢–ê–¢–ò–°–¢–ò–ö–ò === */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: var(--white);
    padding: 1.5rem;
    border: 1px solid var(--border);
    transition: var(--transition);
    position: relative;
  }

  .stat-card:hover {
    border-color: var(--gray-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  }

  .stat-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .stat-icon {
    font-size: 1.5rem;
    color: var(--text-secondary);
  }

  .stat-change {
    font-size: 0.8rem;
    font-weight: 600;
    padding: 0.2rem 0.5rem;
    border-radius: 0;
  }

  .stat-change.positive {
    background: rgba(46, 204, 113, 0.1);
    color: var(--profit);
  }

  .stat-change.negative {
    background: rgba(231, 76, 60, 0.1);
    color: var(--expense);
  }

  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
  }

  .stat-label {
    color: var(--text-secondary);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* === –ë–ê–î–ñ–ò –°–¢–ê–¢–£–°–û–í === */
  .badge-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .status-badge {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: var(--white);
    border: 1px solid var(--border);
    border-left: 4px solid var(--border);
  }

  .status-badge-icon {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0;
    font-size: 1.2rem;
  }

  .status-badge.new .status-badge-icon {
    background: var(--gray-soft);
    color: var(--info);
  }

  .status-badge.processing .status-badge-icon {
    background: var(--gray-soft);
    color: var(--warning);
  }

  .status-badge.delivery .status-badge-icon {
    background: var(--gray-soft);
    color: #9b59b6;
  }

  .status-badge.completed .status-badge-icon {
    background: var(--gray-soft);
    color: var(--success);
  }

  .status-badge-content {
    flex: 1;
  }

  .status-badge-value {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.2rem;
  }

  .status-badge-label {
    font-size: 0.8rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* === –ö–û–ù–¢–ï–ô–ù–ï–† –§–û–†–ú === */
  .form-container {
    background: var(--white);
    padding: 2rem;
    border: 1px solid var(--border);
    margin-bottom: 2rem;
  }

  .form-title {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--border);
  }

  .form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .form-group {
    margin-bottom: 1.5rem;
  }

  .form-label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
    font-size: 0.9rem;
    font-weight: 500;
  }

  .form-control {
    width: 100%;
    padding: 0.9rem;
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 0;
    color: var(--text-primary);
    font-size: 1rem;
    transition: var(--transition);
  }

  .form-control:focus {
    outline: none;
    border-color: var(--black);
  }

  textarea.form-control {
    min-height: 120px;
    resize: vertical;
  }

  .form-select {
    width: 100%;
    padding: 0.9rem;
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 0;
    color: var(--text-primary);
    font-size: 1rem;
    cursor: pointer;
  }

  /* === –ú–ê–†–ñ–ê –ò –°–¢–û–ò–ú–û–°–¢–¨ === */
  .cost-indicator {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-top: 1rem;
    padding: 1rem;
    background: var(--gray-soft);
    border: 1px solid var(--border);
  }

  .margin-indicator {
    padding: 0.3rem 0.8rem;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .margin-good {
    background: var(--profit);
    color: var(--white);
  }

  .margin-warning {
    background: var(--warning);
    color: var(--white);
  }

  .margin-bad {
    background: var(--danger);
    color: var(--white);
  }

  /* === –ó–ê–ì–†–£–ó–ö–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô === */
  .image-upload-area {
    border: 2px dashed var(--border);
    padding: 3rem 2rem;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
    margin-bottom: 1rem;
  }

  .image-upload-area:hover {
    border-color: var(--gray-light);
  }

  .image-preview {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }

  .preview-image {
    width: 100%;
    height: 150px;
    object-fit: cover;
    border: 1px solid var(--border);
    transition: var(--transition);
  }

  .preview-image:hover {
    border-color: var(--black);
  }

  /* === –ö–ù–û–ü–ö–ò === */
  .btn {
    padding: 1rem 2rem;
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    text-decoration: none;
  }

  .btn-primary {
    background-color: var(--black);
    color: var(--white);
  }

  .btn-primary:hover {
    background-color: var(--gray-dark);
  }

  .btn-secondary {
    background-color: transparent;
    color: var(--text-primary);
    border: 1px solid var(--border);
  }

  .btn-secondary:hover {
    background-color: var(--gray-soft);
  }

  .btn-small {
    padding: 0.5rem 1rem;
    font-size: 0.8rem;
  }

  .form-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border);
  }

  /* === –¢–ê–ë–õ–ò–¶–´ === */
  .table-container {
    background: var(--white);
    border: 1px solid var(--border);
    margin-bottom: 2rem;
  }

  .table-header {
    padding: 1.5rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .table-title {
    font-size: 1.3rem;
    font-weight: 600;
  }

  .table-filters {
    display: flex;
    gap: 1rem;
  }

  .data-table {
    width: 100%;
    border-collapse: collapse;
  }

  .data-table th {
    background: var(--gray-soft);
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: var(--text-primary);
    border-bottom: 1px solid var(--border);
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .data-table td {
    padding: 1rem;
    border-bottom: 1px solid var(--border);
    vertical-align: middle;
  }

  .data-table tr:hover {
    background: var(--gray-soft);
  }

  /* === –ë–ê–î–ñ–ò –¢–ê–ë–õ–ò–¶ === */
  .table-badge {
    padding: 0.3rem 0.8rem;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    display: inline-block;
  }

  .badge-status {
    background: var(--gray-soft);
    color: var(--text-primary);
  }

  .badge-profit {
    padding: 0.2rem 0.6rem;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .badge-profit.positive {
    background: rgba(46, 204, 113, 0.1);
    color: var(--profit);
  }

  .badge-profit.negative {
    background: rgba(231, 76, 60, 0.1);
    color: var(--expense);
  }

  .table-actions {
    display: flex;
    gap: 0.5rem;
  }

  .action-btn {
    padding: 0.5rem;
    border: none;
    border-radius: 0;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gray-soft);
  }

  .action-btn:hover {
    background: var(--border);
  }

  .action-btn i {
    font-size: 0.9rem;
  }

  /* === –ì–†–ê–§–ò–ö–ò === */
  .charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
  }

  .chart-container {
    background: var(--white);
    padding: 1.5rem;
    border: 1px solid var(--border);
  }

  .chart-title {
    margin-bottom: 1rem;
    font-size: 1.2rem;
    font-weight: 600;
  }

  .chart-wrapper {
    position: relative;
    height: 300px;
    width: 100%;
  }

  /* === –ì–û–¢–û–í–´–ï –û–ë–†–ê–ó–´ === */
  .looks-management {
    background: var(--white);
    padding: 2rem;
    border: 1px solid var(--border);
    margin-bottom: 2rem;
  }

  .look-form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-bottom: 1.5rem;
  }

  .look-image-preview {
    margin-top: 1rem;
    border: 2px dashed var(--border);
    padding: 2rem;
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: var(--gray-soft);
  }

  .look-image-preview img {
    max-width: 100%;
    max-height: 180px;
    display: none;
  }

  .look-products-select {
    height: 300px;
    overflow-y: auto;
    border: 1px solid var(--border);
    padding: 1rem;
    background: var(--white);
  }

  .look-product-option {
    padding: 0.8rem;
    margin-bottom: 0.5rem;
    background: var(--white);
    border: 1px solid var(--border);
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 0.8rem;
  }

  .look-product-option:hover {
    background: var(--gray-soft);
  }

  .look-product-option.selected {
    background: var(--black);
    color: var(--white);
    border-color: var(--black);
  }

  .looks-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .look-card-admin {
    background: var(--white);
    border: 1px solid var(--border);
    transition: var(--transition);
  }

  .look-card-admin:hover {
    border-color: var(--black);
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
  }

  .look-card-image {
    height: 180px;
    overflow: hidden;
  }

  .look-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .look-card-content {
    padding: 1.5rem;
  }

  .look-card-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .look-card-tag {
    display: inline-block;
    background: var(--black);
    color: var(--white);
    padding: 0.3rem 0.8rem;
    font-size: 0.8rem;
    margin-bottom: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .look-card-products {
    margin-bottom: 1rem;
    font-size: 0.9rem;
    color: var(--text-secondary);
  }

  .look-card-products ul {
    list-style: none;
    padding-left: 0;
  }

  .look-card-products li {
    padding: 0.2rem 0;
    border-bottom: 1px solid var(--border);
  }

  .look-card-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
  }

  /* === –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø === */
  .notification-admin {
    position: fixed;
    top: 100px;
    right: 20px;
    background: var(--white);
    border: 1px solid var(--border);
    padding: 1rem 1.5rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    z-index: 10000;
    display: flex;
    align-items: center;
    gap: 0.8rem;
    animation: slideInRight 0.3s ease;
    max-width: 300px;
  }

  .notification-admin.success {
    border-left: 4px solid var(--success);
  }

  .notification-admin.error {
    border-left: 4px solid var(--danger);
  }

  .notification-admin.warning {
    border-left: 4px solid var(--warning);
  }

  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  /* === –ó–ê–ì–†–£–ó–ö–ê === */
  .loading-admin {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
  }

  .spinner-admin {
    width: 50px;
    height: 50px;
    border: 3px solid var(--border);
    border-top: 3px solid var(--black);
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* === –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ === */
  @media (max-width: 1200px) {
    .charts-grid {
      grid-template-columns: 1fr;
    }
    
    .look-form-grid {
      grid-template-columns: 1fr;
    }
    
    .form-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 768px) {
    .admin-content {
      padding: 1rem 0;
    }
    
    .admin-nav {
      padding: 1rem 0;
      overflow-x: auto;
    }
    
    .nav-tab {
      padding: 0.8rem 1rem;
      font-size: 0.8rem;
    }
    
    .table-header {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }
    
    .table-filters {
      width: 100%;
      flex-direction: column;
    }
    
    .form-actions {
      flex-direction: column;
    }
    
    .stats-grid {
      grid-template-columns: 1fr;
    }
    
    .badge-grid {
      grid-template-columns: 1fr;
    }
    
    .looks-grid {
      grid-template-columns: 1fr;
    }
    
    .looks-management {
      padding: 1rem;
    }
  }

  @media (max-width: 480px) {
    .login-box {
      padding: 2rem 1rem;
    }
    
    .form-container {
      padding: 1rem;
    }
    
    .table-container {
      overflow-x: auto;
    }
    
    .data-table {
      min-width: 600px;
    }
    
    .notification-admin {
      max-width: calc(100% - 40px);
    }
  }
</style>
<link href="https://cdn.jsdelivr.net/npm/chart.js" rel="stylesheet">
</head>
<body>

<!-- –õ–æ–≥–∏–Ω -->
<div id="loginContainer" class="login-container">
  <div class="login-box">
    <div class="login-header">
      <div class="login-icon">üëë</div>
      <h1 class="login-title">DROP SHOP Admin</h1>
      <p class="login-subtitle">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–º</p>
    </div>
    
    <div class="input-group">
      <label class="input-label">–õ–æ–≥–∏–Ω</label>
      <input type="text" id="adminLogin" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" value="admin">
    </div>
    
    <div class="input-group">
      <label class="input-label">–ü–∞—Ä–æ–ª—å</label>
      <input type="password" id="adminPassword" class="input-field" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" value="123456">
    </div>
    
    <button class="login-btn" onclick="loginAdmin()">
      <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏ –≤ –ø–∞–Ω–µ–ª—å
    </button>
    
    <div id="loginError" class="error-message">
      <i class="fas fa-exclamation-circle"></i> –ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å
    </div>
  </div>
</div>

<!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div id="adminPanel" class="admin-container">
  <!-- –•–µ–¥–µ—Ä -->
  <header class="admin-header">
    <div class="container">
      <div class="header-content">
        <div class="admin-logo">
          <div class="admin-logo-icon">DROP SHOP</div>
          <div class="admin-logo-text">| –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</div>
        </div>
        
        <div class="admin-actions">
          <div class="admin-time" id="currentTime">00:00:00</div>
          <button class="logout-btn" onclick="logoutAdmin()">
            <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
          </button>
        </div>
      </div>
    </div>
  </header>
  
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="admin-nav">
    <div class="container">
      <button class="nav-tab active" onclick="switchTab('dashboard')">
        <i class="fas fa-tachometer-alt"></i> –î–∞—à–±–æ—Ä–¥
      </button>
      <button class="nav-tab" onclick="switchTab('products')">
        <i class="fas fa-box"></i> –¢–æ–≤–∞—Ä—ã
      </button>
      <button class="nav-tab" onclick="switchTab('addProduct')">
        <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
      </button>
      <button class="nav-tab" onclick="switchTab('looks')">
        <i class="fas fa-tshirt"></i> –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã
      </button>
      <button class="nav-tab" onclick="switchTab('orders')">
        <i class="fas fa-shopping-cart"></i> –ó–∞–∫–∞–∑—ã
      </button>
      <button class="nav-tab" onclick="switchTab('analytics')">
        <i class="fas fa-chart-line"></i> –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
      </button>
      <button class="nav-tab" onclick="switchTab('finance')">
        <i class="fas fa-money-bill-wave"></i> –§–∏–Ω–∞–Ω—Å—ã
      </button>
      <button class="nav-tab" onclick="switchTab('settings')">
        <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
      </button>
    </div>
  </nav>
  
  <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="admin-content">
    <div class="container">
      <!-- –î–∞—à–±–æ—Ä–¥ -->
      <div id="dashboardTab" class="tab-content active">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-header">
              <div class="stat-icon">üí∞</div>
              <div class="stat-change positive">+12%</div>
            </div>
            <div class="stat-value revenue-value" id="totalRevenue">0 ‚ÇΩ</div>
            <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <div class="stat-icon">üíµ</div>
              <div class="stat-change positive">+15%</div>
            </div>
            <div class="stat-value profit-value" id="totalProfit">0 ‚ÇΩ</div>
            <div class="stat-label">–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <div class="stat-icon">üìä</div>
              <div class="stat-change positive">+8%</div>
            </div>
            <div class="stat-value margin-value" id="avgMargin">0%</div>
            <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –º–∞—Ä–∂–∞</div>
          </div>
          
          <div class="stat-card">
            <div class="stat-header">
              <div class="stat-icon">üì¶</div>
              <div class="stat-change positive">+5%</div>
            </div>
            <div class="stat-value" id="totalOrders">0</div>
            <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
          </div>
        </div>
        
        <div class="badge-grid">
          <div class="status-badge new">
            <div class="status-badge-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="status-badge-content">
              <div class="status-badge-value" id="newOrders">0</div>
              <div class="status-badge-label">–ù–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã</div>
            </div>
          </div>
          
          <div class="status-badge processing">
            <div class="status-badge-icon">
              <i class="fas fa-cogs"></i>
            </div>
            <div class="status-badge-content">
              <div class="status-badge-value" id="processingOrders">0</div>
              <div class="status-badge-label">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</div>
            </div>
          </div>
          
          <div class="status-badge delivery">
            <div class="status-badge-icon">
              <i class="fas fa-truck"></i>
            </div>
            <div class="status-badge-content">
              <div class="status-badge-value" id="deliveryOrders">0</div>
              <div class="status-badge-label">–ñ–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏</div>
            </div>
          </div>
          
          <div class="status-badge completed">
            <div class="status-badge-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="status-badge-content">
              <div class="status-badge-value" id="completedOrders">0</div>
              <div class="status-badge-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
            </div>
          </div>
        </div>
        
        <div class="charts-grid">
          <div class="chart-container">
            <div class="chart-title">üìà –î–∏–Ω–∞–º–∏–∫–∞ –ø—Ä–∏–±—ã–ª–∏</div>
            <div class="chart-wrapper">
              <canvas id="profitChart"></canvas>
            </div>
          </div>
          
          <div class="chart-container">
            <div class="chart-title">üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤</div>
            <div class="chart-wrapper">
              <canvas id="ordersChart"></canvas>
            </div>
          </div>
        </div>
      </div>
      
      <!-- –¢–æ–≤–∞—Ä—ã -->
      <div id="productsTab" class="tab-content">
        <div class="table-container">
          <div class="table-header">
            <div class="table-title">üè∑Ô∏è –í—Å–µ —Ç–æ–≤–∞—Ä—ã</div>
            <div class="table-filters">
              <select id="productFilter" class="form-control" style="width: auto;" onchange="filterProducts()">
                <option value="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</option>
                <option value="original">–û—Ä–∏–≥–∏–Ω–∞–ª—ã</option>
                <option value="replica">–†–µ–ø–ª–∏–∫–∏</option>
                <option value="highMargin">–í—ã—Å–æ–∫–∞—è –º–∞—Ä–∂–∞</option>
                <option value="lowMargin">–ù–∏–∑–∫–∞—è –º–∞—Ä–∂–∞</option>
              </select>
              <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." onkeyup="searchProducts(this.value)" style="min-width: 200px;">
            </div>
          </div>
          
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–¢–∏–ø</th>
                <th>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                <th>–¶–µ–Ω–∞</th>
                <th>–ú–∞—Ä–∂–∞</th>
                <th>–ü—Ä–∏–±—ã–ª—å</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="productsTable">
              <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä -->
      <div id="addProductTab" class="tab-content">
        <div class="form-container">
          <div class="form-title">
            <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
              <input type="text" id="productName" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Nike Air Jordan 1">
            </div>
            
            <div class="form-group">
              <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
              <select id="productCategory" class="form-control">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                <option value="–æ–±—É–≤—å">–û–±—É–≤—å</option>
                <option value="–º—É–∂—Å–∫–∞—è">–ú—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</option>
                <option value="–∂–µ–Ω—Å–∫–∞—è">–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</option>
                <option value="–∞–∫—Å–µ—Å—Å—É–∞—Ä—ã">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</option>
                <option value="–≤–µ—Ä—Ö–Ω—è—è">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</option>
              </select>
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–¢–∏–ø —Ç–æ–≤–∞—Ä–∞ *</label>
              <select id="productType" class="form-control">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                <option value="original">–û—Ä–∏–≥–∏–Ω–∞–ª</option>
                <option value="replica">–†–µ–ø–ª–∏–∫–∞</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label">–°—Ç–∞—Ç—É—Å *</label>
              <select id="productAvailability" class="form-control">
                <option value="in_stock">–í –Ω–∞–ª–∏—á–∏–∏</option>
                <option value="preorder">–ü–æ–¥ –∑–∞–∫–∞–∑</option>
              </select>
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ) *</label>
              <input type="number" id="productCost" class="form-control" placeholder="5000" min="0" oninput="calculateMargin()">
            </div>
            
            <div class="form-group">
              <label class="form-label">–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (‚ÇΩ) *</label>
              <input type="number" id="productPrice" class="form-control" placeholder="14990" min="0" oninput="calculateMargin()">
            </div>
            
            <div class="form-group">
              <label class="form-label">–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å</label>
              <div id="marginIndicator" class="cost-indicator">
                <span id="profitAmount">0 ‚ÇΩ</span>
                <span id="marginPercentage" class="margin-indicator margin-good">0%</span>
              </div>
              <small style="color: var(--text-secondary); display: block; margin-top: 0.3rem;">
                –ü—Ä–∏–±—ã–ª—å –∏ –º–∞—Ä–∂–∞ —Ä–∞—Å—Å—á–∏—Ç–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
              </small>
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ —Å–∫–ª–∞–¥–µ</label>
              <input type="number" id="productStock" class="form-control" value="10" min="0">
            </div>
            
            <div class="form-group">
              <label class="form-label">–†–∞–∑–º–µ—Ä—ã (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
              <input type="text" id="productSizes" class="form-control" placeholder="40, 41, 42, 43, 44, 45">
            </div>
            
            <div class="form-group">
              <label class="form-label">–¶–≤–µ—Ç</label>
              <input type="text" id="productColor" class="form-control" placeholder="–ß–µ—Ä–Ω—ã–π">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ *</label>
            <textarea id="productDescription" class="form-control" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞..."></textarea>
          </div>
          
          <div class="form-group">
            <label class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (URL —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) *</label>
            <div class="image-upload-area" onclick="document.getElementById('productImages').focus()">
              <i class="fas fa-cloud-upload-alt" style="font-size: 3rem; margin-bottom: 1rem; color: var(--text-secondary);"></i>
              <div style="font-size: 1.1rem; margin-bottom: 0.5rem;">–ù–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</div>
              <div style="color: var(--text-secondary); font-size: 0.9rem;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Imgur, Unsplash –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã</div>
            </div>
            <input type="text" id="productImages" class="form-control" placeholder="https://example.com/image1.jpg, https://example.com/image2.jpg">
            <div class="image-preview" id="imagePreview"></div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-primary" onclick="addProduct()">
              <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä
            </button>
            <button class="btn btn-secondary" onclick="resetProductForm()">
              <i class="fas fa-redo"></i> –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
            </button>
          </div>
        </div>
      </div>
      
      <!-- –ì–æ—Ç–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã -->
      <div id="looksTab" class="tab-content">
        <div class="looks-management">
          <div class="form-title">
            <i class="fas fa-tshirt"></i> –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏
          </div>
          
          <div class="look-form-grid">
            <div>
              <div class="form-group">
                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞ *</label>
                <input type="text" id="lookName" class="form-control" placeholder="Urban Vibes">
              </div>
              
              <div class="form-group">
                <label class="form-label">–¢–µ–≥ (–ø–æ–¥–ø–∏—Å—å –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ)</label>
                <input type="text" id="lookTag" class="form-control" placeholder="–£–ª–∏—á–Ω—ã–π —Å—Ç–∏–ª—å">
              </div>
              
              <div class="form-group">
                <label class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL) *</label>
                <input type="text" id="lookImage" class="form-control" placeholder="https://example.com/look-image.jpg" oninput="previewLookImage()">
                <div class="look-image-preview">
                  <img id="lookImagePreview" src="" alt="–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞–∑–∞">
                </div>
              </div>
            </div>
            
            <div>
              <div class="form-group">
                <label class="form-label">–¢–æ–≤–∞—Ä—ã –≤ –æ–±—Ä–∞–∑–µ *</label>
                <p class="form-label" style="color: var(--text-secondary); font-size: 0.8rem; margin-bottom: 0.5rem;">
                  –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥–æ 10 —Ç–æ–≤–∞—Ä–æ–≤)
                </p>
                <div class="look-products-select" id="lookProductsSelect">
                  <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                <div id="selectedProductsCount" style="margin-top: 0.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                  –í—ã–±—Ä–∞–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: 0
                </div>
              </div>
            </div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-primary" onclick="saveLook()">
              <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞–∑
            </button>
            <button class="btn btn-secondary" onclick="resetLookForm()">
              <i class="fas fa-redo"></i> –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
            </button>
          </div>
        </div>
        
        <div class="looks-grid" id="looksList">
          <!-- –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>
      </div>
      
      <!-- –ó–∞–∫–∞–∑—ã -->
      <div id="ordersTab" class="tab-content">
        <div class="table-container">
          <div class="table-header">
            <div class="table-title">üì¶ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</div>
            <div class="table-filters">
              <input type="date" id="orderDateFrom" class="form-control">
              <input type="date" id="orderDateTo" class="form-control">
              <select id="orderStatusFilter" class="form-control" onchange="filterOrders()">
                <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                <option value="new">–ù–æ–≤—ã–µ</option>
                <option value="processing">–í –æ–±—Ä–∞–±–æ—Ç–∫–µ</option>
                <option value="delivery">–ñ–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏</option>
                <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
              </select>
            </div>
          </div>
          
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>–î–∞—Ç–∞</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–¢–æ–≤–∞—Ä—ã</th>
                <th>–°—É–º–º–∞</th>
                <th>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                <th>–ü—Ä–∏–±—ã–ª—å</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
              </tr>
            </thead>
            <tbody id="ordersTable">
              <!-- –ó–∞–∫–∞–∑—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ -->
      <div id="analyticsTab" class="tab-content">
        <div class="form-container">
          <div class="form-title">
            <i class="fas fa-chart-line"></i> –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–ü–µ—Ä–∏–æ–¥</label>
              <select id="analyticsPeriod" class="form-control" onchange="updateAnalytics()">
                <option value="7">7 –¥–Ω–µ–π</option>
                <option value="30" selected>30 –¥–Ω–µ–π</option>
                <option value="90">90 –¥–Ω–µ–π</option>
                <option value="365">–ì–æ–¥</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label">–¢–∏–ø —Ç–æ–≤–∞—Ä–æ–≤</label>
              <select id="analyticsType" class="form-control" onchange="updateAnalytics()">
                <option value="all">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</option>
                <option value="original">–¢–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã</option>
                <option value="replica">–¢–æ–ª—å–∫–æ —Ä–µ–ø–ª–∏–∫–∏</option>
              </select>
            </div>
          </div>
          
          <div class="charts-grid">
            <div class="chart-container">
              <div class="chart-title">üí∞ –î–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏ –∏ –ø—Ä–∏–±—ã–ª–∏</div>
              <div class="chart-wrapper">
                <canvas id="revenueChart"></canvas>
              </div>
            </div>
            
            <div class="chart-container">
              <div class="chart-title">üì¶ –ü—Ä–æ–¥–∞–∂–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</div>
              <div class="chart-wrapper">
                <canvas id="categoryChart"></canvas>
              </div>
            </div>
          </div>
          
          <div class="table-container" style="margin-top: 2rem;">
            <div class="table-header">
              <div class="table-title">üèÜ –¢–æ–ø-5 —Å–∞–º—ã—Ö –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>–¢–æ–≤–∞—Ä</th>
                  <th>–ü—Ä–æ–¥–∞–Ω–æ</th>
                  <th>–í—ã—Ä—É—á–∫–∞</th>
                  <th>–ü—Ä–∏–±—ã–ª—å</th>
                  <th>–ú–∞—Ä–∂–∞</th>
                </tr>
              </thead>
              <tbody id="topProductsTable"></tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- –§–∏–Ω–∞–Ω—Å—ã -->
      <div id="financeTab" class="tab-content">
        <div class="form-container">
          <div class="form-title">
            <i class="fas fa-money-bill-wave"></i> –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–û—Ç—á–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥</label>
              <select id="financePeriod" class="form-control" onchange="updateFinanceReport()">
                <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                <option value="yesterday">–í—á–µ—Ä–∞</option>
                <option value="week">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</option>
                <option value="month" selected>–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                <option value="quarter">–≠—Ç–æ—Ç –∫–≤–∞—Ä—Ç–∞–ª</option>
                <option value="year">–≠—Ç–æ—Ç –≥–æ–¥</option>
                <option value="all">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</option>
              </select>
            </div>
            
            <div class="form-group">
              <label class="form-label">–¢–∏–ø –æ—Ç—á–µ—Ç–∞</label>
              <select id="financeType" class="form-control" onchange="updateFinanceReport()">
                <option value="summary">–°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç</option>
                <option value="detailed">–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</option>
                <option value="profit">–ü–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏</option>
              </select>
            </div>
          </div>
          
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon">üí∞</div>
              </div>
              <div class="stat-value revenue-value" id="periodRevenue">0 ‚ÇΩ</div>
              <div class="stat-label">–í—ã—Ä—É—á–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon">üíµ</div>
              </div>
              <div class="stat-value profit-value" id="periodProfit">0 ‚ÇΩ</div>
              <div class="stat-label">–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon">üìä</div>
              </div>
              <div class="stat-value margin-value" id="periodMargin">0%</div>
              <div class="stat-label">–ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å</div>
            </div>
            
            <div class="stat-card">
              <div class="stat-header">
                <div class="stat-icon">üì¶</div>
              </div>
              <div class="stat-value" id="periodOrders">0</div>
              <div class="stat-label">–ö–æ–ª-–≤–æ –∑–∞–∫–∞–∑–æ–≤</div>
            </div>
          </div>
          
          <div class="table-container" style="margin-top: 2rem;">
            <div class="table-header">
              <div class="table-title">üìã –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç</div>
            </div>
            <table class="data-table">
              <thead>
                <tr>
                  <th>–î–∞—Ç–∞</th>
                  <th>–ó–∞–∫–∞–∑–æ–≤</th>
                  <th>–í—ã—Ä—É—á–∫–∞</th>
                  <th>–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                  <th>–ü—Ä–∏–±—ã–ª—å</th>
                  <th>–ú–∞—Ä–∂–∞</th>
                </tr>
              </thead>
              <tbody id="financeDetailsTable"></tbody>
            </table>
          </div>
        </div>
      </div>
      
      <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
      <div id="settingsTab" class="tab-content">
        <div class="form-container">
          <div class="form-title">
            <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞</label>
              <input type="text" id="shopName" class="form-control" value="DROP SHOP –Ø–∫—É—Ç—Å–∫">
            </div>
            
            <div class="form-group">
              <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏</label>
              <input type="text" id="shopPhone" class="form-control" value="+7 (999) 123-45-67">
            </div>
          </div>
          
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">Email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</label>
              <input type="email" id="shopEmail" class="form-control" value="info@dropshop-ykt.ru">
            </div>
            
            <div class="form-group">
              <label class="form-label">–ê–¥—Ä–µ—Å –º–∞–≥–∞–∑–∏–Ω–∞</label>
              <input type="text" id="shopAddress" class="form-control" value="–Ø–∫—É—Ç—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, 15">
            </div>
          </div>
          
          <div class="form-group">
            <label class="form-label">–¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞</label>
            <input type="text" id="telegramToken" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞">
            <small style="color: var(--text-secondary); display: block; margin-top: 0.5rem;">
              –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
            </small>
          </div>
          
          <div class="form-group">
            <label class="form-label">Chat ID Telegram</label>
            <input type="text" id="telegramChatId" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ Chat ID">
          </div>
          
          <div class="form-group">
            <label class="form-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏</label>
            <div style="display: flex; flex-direction: column; gap: 1rem; margin-top: 1rem;">
              <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="deliveryYakutsk" checked> –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –Ø–∫—É—Ç—Å–∫—É
              </label>
              <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="pickupAvailable" checked> –°–∞–º–æ–≤—ã–≤–æ–∑
              </label>
              <label style="display: flex; align-items: center; gap: 0.5rem;">
                <input type="checkbox" id="freeDelivery" checked> –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ç 5000‚ÇΩ
              </label>
            </div>
          </div>
          
          <div class="form-actions">
            <button class="btn btn-primary" onclick="saveSettings()">
              <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
            <button class="btn btn-secondary" onclick="resetSettings()">
              <i class="fas fa-redo"></i> –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="notificationContainer"></div>

<div class="loading-admin" id="loadingAdmin" style="display: none;">
  <div class="spinner-admin"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ADMIN_CONFIG = {
    login: "admin",
    password: "123456"
  };

  let currentTab = 'dashboard';
  let products = [];
  let orders = [];
  let looks = [];
  let profitChart = null;
  let ordersChart = null;
  let revenueChart = null;
  let categoryChart = null;
  let editingLookId = null;

  // –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
  const ORDER_STATUSES = {
    'new': { name: '–ù–æ–≤—ã–π', class: 'badge-status', icon: 'fas fa-clock' },
    'processing': { name: '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ', class: 'badge-status', icon: 'fas fa-cogs' },
    'delivery': { name: '–ñ–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏', class: 'badge-status', icon: 'fas fa-truck' },
    'completed': { name: '–ó–∞–≤–µ—Ä—à–µ–Ω', class: 'badge-status', icon: 'fas fa-check-circle' },
    'cancelled': { name: '–û—Ç–º–µ–Ω–µ–Ω', class: 'badge-status', icon: 'fas fa-times-circle' }
  };

  // –§—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  function loginAdmin() {
    const login = document.getElementById('adminLogin').value;
    const password = document.getElementById('adminPassword').value;
    const errorDiv = document.getElementById('loginError');

    if (login === ADMIN_CONFIG.login && password === ADMIN_CONFIG.password) {
      localStorage.setItem('adminLoggedIn', 'true');
      localStorage.setItem('adminSession', btoa(JSON.stringify({
        login: login,
        timestamp: Date.now()
      })));
      
      showAdminPanel();
      showNotification('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è', 'success');
    } else {
      errorDiv.style.display = 'block';
      setTimeout(() => {
        errorDiv.style.display = 'none';
      }, 3000);
    }
  }

  function logoutAdmin() {
    localStorage.removeItem('adminLoggedIn');
    localStorage.removeItem('adminSession');
    location.reload();
  }

  function showAdminPanel() {
    document.getElementById('loginContainer').style.display = 'none';
    document.getElementById('adminPanel').style.display = 'block';
    
    updateCurrentTime();
    setInterval(updateCurrentTime, 1000);
    
    loadDashboardData();
  }

  function updateCurrentTime() {
    const now = new Date();
    const timeString = now.toLocaleTimeString('ru-RU');
    const dateString = now.toLocaleDateString('ru-RU', {
      weekday: 'long',
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
    
    document.getElementById('currentTime').textContent = `${dateString} ${timeString}`;
  }

  function switchTab(tabName) {
    document.querySelectorAll('.tab-content').forEach(tab => {
      tab.classList.remove('active');
    });
    
    document.querySelectorAll('.nav-tab').forEach(btn => {
      btn.classList.remove('active');
    });
    
    document.getElementById(tabName + 'Tab').classList.add('active');
    event.target.classList.add('active');
    
    switch(tabName) {
      case 'dashboard':
        loadDashboardData();
        break;
      case 'products':
        loadProductsTable();
        break;
      case 'looks':
        loadLooksManagement();
        break;
      case 'orders':
        loadOrders();
        break;
      case 'analytics':
        updateAnalytics();
        break;
      case 'finance':
        updateFinanceReport();
        break;
      case 'settings':
        loadSettings();
        break;
    }
    
    currentTab = tabName;
  }

  function showNotification(message, type = 'success') {
    const container = document.getElementById('notificationContainer');
    const notification = document.createElement('div');
    notification.className = `notification-admin ${type}`;
    notification.innerHTML = `
      <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
      <span>${message}</span>
    `;
    
    container.appendChild(notification);
    
    setTimeout(() => {
      notification.style.animation = 'slideInRight 0.3s ease reverse';
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  }

  function showLoading(show) {
    document.getElementById('loadingAdmin').style.display = show ? 'flex' : 'none';
  }

  // –†–∞—Å—á–µ—Ç –º–∞—Ä–∂–∏
  function calculateMargin() {
    const cost = parseFloat(document.getElementById('productCost').value) || 0;
    const price = parseFloat(document.getElementById('productPrice').value) || 0;
    
    if (cost <= 0 || price <= 0) {
      document.getElementById('profitAmount').textContent = '0 ‚ÇΩ';
      document.getElementById('marginPercentage').textContent = '0%';
      document.getElementById('marginPercentage').className = 'margin-indicator margin-good';
      return;
    }
    
    const profit = price - cost;
    const margin = ((profit / price) * 100).toFixed(1);
    
    document.getElementById('profitAmount').textContent = `${profit.toLocaleString()} ‚ÇΩ`;
    document.getElementById('marginPercentage').textContent = `${margin}%`;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –º–∞—Ä–∂–∏
    let marginClass = 'margin-good';
    if (margin < 20) {
      marginClass = 'margin-bad';
    } else if (margin < 40) {
      marginClass = 'margin-warning';
    }
    
    document.getElementById('marginPercentage').className = `margin-indicator ${marginClass}`;
  }

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–∞—à–±–æ—Ä–¥–∞
  async function loadDashboardData() {
    showLoading(true);
    
    try {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
      products = JSON.parse(localStorage.getItem('adminProducts')) || [];
      
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –∑–∞–∫–∞–∑—ã
      orders = JSON.parse(localStorage.getItem('orders')) || [];
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
      updateDashboardStats();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫–∏
      updateDashboardCharts();
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
      showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö', 'error');
    }
    
    showLoading(false);
  }

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ
  function updateDashboardStats() {
    // –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞ –∏ –ø—Ä–∏–±—ã–ª—å
    let totalRevenue = 0;
    let totalCost = 0;
    let totalProfit = 0;
    let orderCounts = { new: 0, processing: 0, delivery: 0, completed: 0, cancelled: 0 };
    
    orders.forEach(order => {
      // –°—É–º–º–∞ –∑–∞–∫–∞–∑–∞
      const amount = parseFloat(order.total?.replace(/[^\d]/g, '') || 0);
      totalRevenue += amount;
      
      // –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ)
      if (order.cost) {
        totalCost += order.cost;
      } else {
        // –û—Ü–µ–Ω–∏–≤–∞–µ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∫ 60% –æ—Ç —Ü–µ–Ω—ã, –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
        totalCost += amount * 0.6;
      }
      
      // –°—á–∏—Ç–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
      if (ORDER_STATUSES[order.status]) {
        orderCounts[order.status]++;
      } else {
        orderCounts.new++;
      }
    });
    
    // –ü—Ä–∏–±—ã–ª—å
    totalProfit = totalRevenue - totalCost;
    const avgMargin = totalRevenue > 0 ? ((totalProfit / totalRevenue) * 100) : 0;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
    document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
    document.getElementById('totalProfit').textContent = formatCurrency(totalProfit);
    document.getElementById('avgMargin').textContent = `${avgMargin.toFixed(1)}%`;
    document.getElementById('totalOrders').textContent = orders.length;
    
    // –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
    document.getElementById('newOrders').textContent = orderCounts.new;
    document.getElementById('processingOrders').textContent = orderCounts.processing;
    document.getElementById('deliveryOrders').textContent = orderCounts.delivery;
    document.getElementById('completedOrders').textContent = orderCounts.completed;
  }

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–∞—à–±–æ—Ä–¥–∞
  function updateDashboardCharts() {
    // –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–∏–±—ã–ª–∏
    const profitCtx = document.getElementById('profitChart').getContext('2d');
    
    if (profitChart) {
      profitChart.destroy();
    }
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π
    const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
    const revenueData = days.map(() => Math.floor(Math.random() * 50000) + 20000);
    const profitData = revenueData.map(revenue => Math.floor(revenue * (0.3 + Math.random() * 0.2)));
    
    profitChart = new Chart(profitCtx, {
      type: 'line',
      data: {
        labels: days,
        datasets: [
          {
            label: '–í—ã—Ä—É—á–∫–∞',
            data: revenueData,
            borderColor: '#000000',
            backgroundColor: 'rgba(0, 0, 0, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          },
          {
            label: '–ü—Ä–∏–±—ã–ª—å',
            data: profitData,
            borderColor: '#27ae60',
            backgroundColor: 'rgba(39, 174, 96, 0.1)',
            borderWidth: 2,
            fill: true,
            tension: 0.4
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            labels: {
              color: '#000000'
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(0, 0, 0, 0.1)'
            },
            ticks: {
              color: '#666666',
              callback: function(value) {
                return (value / 1000).toFixed(0) + 'k';
              }
            }
          },
          x: {
            grid: {
              color: 'rgba(0, 0, 0, 0.1)'
            },
            ticks: {
              color: '#666666'
            }
          }
        }
      }
    });
    
    // –ì—Ä–∞—Ñ–∏–∫ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
    const ordersCtx = document.getElementById('ordersChart').getContext('2d');
    
    if (ordersChart) {
      ordersChart.destroy();
    }
    
    // –°—á–∏—Ç–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
    const statusCounts = {
      '–ù–æ–≤—ã–µ': orders.filter(o => !o.status || o.status === 'new').length,
      '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ': orders.filter(o => o.status === 'processing').length,
      '–ñ–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–∫–∏': orders.filter(o => o.status === 'delivery').length,
      '–ó–∞–≤–µ—Ä—à–µ–Ω—ã': orders.filter(o => o.status === 'completed').length,
      '–û—Ç–º–µ–Ω–µ–Ω—ã': orders.filter(o => o.status === 'cancelled').length
    };
    
    ordersChart = new Chart(ordersCtx, {
      type: 'doughnut',
      data: {
        labels: Object.keys(statusCounts),
        datasets: [{
          data: Object.values(statusCounts),
          backgroundColor: [
            'rgba(52, 152, 219, 0.8)',
            'rgba(241, 196, 15, 0.8)',
            'rgba(155, 89, 182, 0.8)',
            'rgba(39, 174, 96, 0.8)',
            'rgba(231, 76, 60, 0.8)'
          ],
          borderWidth: 1,
          borderColor: '#ffffff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'right',
            labels: {
              color: '#000000',
              padding: 20
            }
          }
        },
        cutout: '70%'
      }
    });
  }

  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã
  function formatCurrency(amount) {
    return new Intl.NumberFormat('ru-RU', {
      style: 'currency',
      currency: 'RUB',
      minimumFractionDigits: 0
    }).format(amount);
  }

  // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–±–ª–∏—Ü—ã —Ç–æ–≤–∞—Ä–æ–≤
  function loadProductsTable() {
    showLoading(true);
    
    try {
      products = JSON.parse(localStorage.getItem('adminProducts')) || [];
      const container = document.getElementById('productsTable');
      
      if (products.length === 0) {
        container.innerHTML = `
          <tr>
            <td colspan="9" style="text-align: center; padding: 2rem; color: var(--text-secondary);">
              <i class="fas fa-box-open" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
              –¢–æ–≤–∞—Ä–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç
            </td>
          </tr>
        `;
        showLoading(false);
        return;
      }
      
      container.innerHTML = products.map(product => {
        const cost = product.cost || 0;
        const price = product.price || 0;
        const profit = price - cost;
        const margin = price > 0 ? ((profit / price) * 100) : 0;
        
        let marginClass = 'margin-good';
        if (margin < 20) {
          marginClass = 'margin-bad';
        } else if (margin < 40) {
          marginClass = 'margin-warning';
        }
        
        return `
          <tr>
            <td><strong>#${product.id}</strong></td>
            <td>${product.name}</td>
            <td><span class="table-badge">
              ${product.type === 'original' ? '–û—Ä–∏–≥–∏–Ω–∞–ª' : '–†–µ–ø–ª–∏–∫–∞'}
            </span></td>
            <td>${formatCurrency(cost)}</td>
            <td>${formatCurrency(price)}</td>
            <td><span class="margin-indicator ${marginClass}">${margin.toFixed(1)}%</span></td>
            <td><span class="badge-profit ${profit >= 0 ? 'positive' : 'negative'}">
              ${formatCurrency(profit)}
            </span></td>
            <td><span class="table-badge">
              ${product.availability === 'in_stock' ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ü–æ–¥ –∑–∞–∫–∞–∑'}
            </span></td>
            <td>
              <div class="table-actions">
                <button class="action-btn" onclick="editProduct(${product.id})">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="action-btn" onclick="deleteProduct(${product.id})">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </td>
          </tr>
        `;
      }).join('');
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤:', error);
      showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤', 'error');
    }
    
    showLoading(false);
  }

  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å —É—á–µ—Ç–æ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏
  function addProduct() {
    showLoading(true);
    
    try {
      // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
      const productId = Date.now();
      const productName = document.getElementById('productName').value.trim();
      const productCategory = document.getElementById('productCategory').value;
      const productType = document.getElementById('productType').value;
      const productAvailability = document.getElementById('productAvailability').value;
      const productCost = parseFloat(document.getElementById('productCost').value) || 0;
      const productPrice = parseFloat(document.getElementById('productPrice').value) || 0;
      const productDescription = document.getElementById('productDescription').value.trim();
      const productImages = document.getElementById('productImages').value.split(',').map(url => url.trim()).filter(url => url);
      
      // –í–∞–ª–∏–¥–∞—Ü–∏—è
      if (!productName || !productCategory || !productType || !productCost || !productPrice || !productDescription || productImages.length === 0) {
        showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
        showLoading(false);
        return;
      }
      
      if (productCost >= productPrice) {
        showNotification('–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏', 'error');
        showLoading(false);
        return;
      }
      
      // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–∏–±—ã–ª—å –∏ –º–∞—Ä–∂—É
      const profit = productPrice - productCost;
      const margin = (profit / productPrice * 100).toFixed(1);
      
      // 1. –°–æ–∑–¥–∞–µ–º —Ç–æ–≤–∞—Ä –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞
      const catalogProduct = {
        id: productId,
        name: productName,
        price: productPrice,
        cost: productCost,
        originalPrice: Math.round(productPrice * 1.5),
        type: productType,
        category: productCategory,
        image: productImages[0],
        rating: 4.0 + (Math.random() * 0.5),
        reviews: Math.floor(Math.random() * 50),
        badge: '–ù–æ–≤–∏–Ω–∫–∞',
        inStock: productAvailability === 'in_stock',
        deliveryTime: productType === 'original' ? '7-14 –¥–Ω–µ–π' : '2-3 —á–∞—Å–∞'
      };
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–∞—Ç–∞–ª–æ–≥
      let catalogProducts = JSON.parse(localStorage.getItem('catalogProducts')) || [];
      catalogProducts.push(catalogProduct);
      localStorage.setItem('catalogProducts', JSON.stringify(catalogProducts));
      
      // 2. –°–æ–∑–¥–∞–µ–º –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–æ–≤–∞—Ä–∞
      const detailedProduct = {
        id: productId,
        name: productName,
        price: productPrice,
        cost: productCost,
        originalPrice: catalogProduct.originalPrice,
        type: productType,
        category: productCategory,
        description: productDescription,
        images: productImages,
        sizes: document.getElementById('productSizes').value.split(',').map(s => s.trim()).filter(s => s) || ['M', 'L', 'XL'],
        color: document.getElementById('productColor').value.trim() || '–ß–µ—Ä–Ω—ã–π',
        material: '–•–ª–æ–ø–æ–∫ 100%',
        inStock: productAvailability === 'in_stock',
        stockCount: parseInt(document.getElementById('productStock').value) || 10,
        rating: catalogProduct.rating,
        reviews: [],
        deliveryTime: catalogProduct.deliveryTime,
        profit: profit,
        margin: margin
      };
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
      let detailedProducts = JSON.parse(localStorage.getItem('detailedProducts')) || {};
      detailedProducts[productId] = detailedProduct;
      localStorage.setItem('detailedProducts', JSON.stringify(detailedProducts));
      
      // 3. –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω—Å–∫—É—é –≤–µ—Ä—Å–∏—é (—Å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å—é)
      const adminProduct = {
        id: productId,
        name: productName,
        category: productCategory,
        type: productType,
        availability: productAvailability,
        cost: productCost,
        price: productPrice,
        profit: profit,
        margin: margin,
        stock: parseInt(document.getElementById('productStock').value) || 10,
        sizes: detailedProduct.sizes,
        color: detailedProduct.color,
        description: productDescription,
        images: productImages,
        createdAt: new Date().toISOString(),
        rating: catalogProduct.rating,
        reviews: [],
        badge: '–ù–æ–≤–∏–Ω–∫–∞',
        deliveryTime: catalogProduct.deliveryTime
      };
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã
      let adminProducts = JSON.parse(localStorage.getItem('adminProducts')) || [];
      adminProducts.push(adminProduct);
      localStorage.setItem('adminProducts', JSON.stringify(adminProducts));
      
      // 4. –î–æ–±–∞–≤–ª—è–µ–º –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
      let popularProducts = JSON.parse(localStorage.getItem('popularProducts')) || [];
      popularProducts.push({
        id: productId,
        name: productName,
        price: productPrice,
        cost: productCost,
        image: productImages[0],
        type: productType,
        category: productCategory,
        inStock: productAvailability === 'in_stock',
        profit: profit
      });
      
      // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 12 —Ç–æ–≤–∞—Ä–æ–≤
      popularProducts = popularProducts.slice(-12);
      localStorage.setItem('popularProducts', JSON.stringify(popularProducts));
      
      showNotification(`‚úÖ –¢–æ–≤–∞—Ä "${productName}" —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω! –ü—Ä–∏–±—ã–ª—å: ${profit.toLocaleString()} ‚ÇΩ (${margin}%)`, 'success');
      resetProductForm();
      loadProductsTable();
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞:', error);
      showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
    }
    
    showLoading(false);
  }

  function resetProductForm() {
    document.getElementById('productName').value = '';
    document.getElementById('productCategory').value = '';
    document.getElementById('productType').value = '';
    document.getElementById('productAvailability').value = 'in_stock';
    document.getElementById('productCost').value = '';
    document.getElementById('productPrice').value = '';
    document.getElementById('productStock').value = '10';
    document.getElementById('productSizes').value = '';
    document.getElementById('productColor').value = '';
    document.getElementById('productDescription').value = '';
    document.getElementById('productImages').value = '';
    document.getElementById('imagePreview').innerHTML = '';
    calculateMargin();
    
    showNotification('–§–æ—Ä–º–∞ –æ—á–∏—â–µ–Ω–∞', 'info');
  }

  function editProduct(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) {
      showNotification('–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
      return;
    }
    
    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–∫–ª–∞–¥–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ –∑–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É
    switchTab('addProduct');
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞
    setTimeout(() => {
      document.getElementById('productName').value = product.name || '';
      document.getElementById('productCategory').value = product.category || '';
      document.getElementById('productType').value = product.type || '';
      document.getElementById('productAvailability').value = product.availability || 'in_stock';
      document.getElementById('productCost').value = product.cost || '';
      document.getElementById('productPrice').value = product.price || '';
      document.getElementById('productStock').value = product.stock || 10;
      document.getElementById('productSizes').value = product.sizes ? product.sizes.join(', ') : '';
      document.getElementById('productColor').value = product.color || '';
      document.getElementById('productDescription').value = product.description || '';
      document.getElementById('productImages').value = product.images ? product.images.join(', ') : '';
      
      calculateMargin();
      showNotification('–§–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–≤–∞—Ä–∞. –û–±–Ω–æ–≤–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.', 'info');
    }, 300);
  }

  function deleteProduct(productId) {
    if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
      return;
    }
    
    showLoading(true);
    
    try {
      // –£–¥–∞–ª—è–µ–º –∏–∑ –≤—Å–µ—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â
      let adminProducts = JSON.parse(localStorage.getItem('adminProducts')) || [];
      adminProducts = adminProducts.filter(p => p.id !== productId);
      localStorage.setItem('adminProducts', JSON.stringify(adminProducts));
      
      let catalogProducts = JSON.parse(localStorage.getItem('catalogProducts')) || [];
      catalogProducts = catalogProducts.filter(p => p.id !== productId);
      localStorage.setItem('catalogProducts', JSON.stringify(catalogProducts));
      
      let detailedProducts = JSON.parse(localStorage.getItem('detailedProducts')) || {};
      delete detailedProducts[productId];
      localStorage.setItem('detailedProducts', JSON.stringify(detailedProducts));
      
      let popularProducts = JSON.parse(localStorage.getItem('popularProducts')) || [];
      popularProducts = popularProducts.filter(p => p.id !== productId);
      localStorage.setItem('popularProducts', JSON.stringify(popularProducts));
      
      showNotification('–¢–æ–≤–∞—Ä —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω', 'success');
      loadProductsTable();
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞:', error);
      showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞', 'error');
    }
    
    showLoading(false);
  }

  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã–º–∏ –æ–±—Ä–∞–∑–∞–º–∏
  function loadLooksManagement() {
    loadProductsForLooks();
    loadLooksList();
  }

  function loadProductsForLooks() {
    const container = document.getElementById('lookProductsSelect');
    let products = JSON.parse(localStorage.getItem('catalogProducts')) || [];
    
    if (products.length === 0) {
      // –ï—Å–ª–∏ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–º–æ-—Ç–æ–≤–∞—Ä—ã
      products = [
        { id: 201, name: "Nike Air Jordan 1 High", type: "replica", price: 12990 },
        { id: 102, name: "New Balance 2002 Protection", type: "original", price: 34990 },
        { id: 103, name: "Adidas Yeezy 700", type: "replica", price: 19990 },
        { id: 104, name: "Balenciaga Triple S", type: "original", price: 79990 },
        { id: 301, name: "Oversize Hoodie Black", type: "replica", price: 7990 },
        { id: 302, name: "White Basic Tee", type: "replica", price: 2990 }
      ];
    }
    
    container.innerHTML = products.map(product => `
      <div class="look-product-option" onclick="toggleProductSelection(${product.id}, this)">
        <input type="checkbox" id="product-${product.id}" value="${product.id}" style="display: none;">
        <i class="fas fa-${product.category === '–æ–±—É–≤—å' ? 'shoe-prints' : 'tshirt'}"></i>
        <span>${product.name}</span>
        <span style="margin-left: auto; color: var(--text-secondary);">${product.price.toLocaleString()} ‚ÇΩ</span>
      </div>
    `).join('');
    
    updateSelectedProductsCount();
  }

  function toggleProductSelection(productId, element) {
    const checkbox = document.getElementById(`product-${productId}`);
    checkbox.checked = !checkbox.checked;
    
    if (checkbox.checked) {
      element.classList.add('selected');
    } else {
      element.classList.remove('selected');
    }
    
    updateSelectedProductsCount();
  }

  function updateSelectedProductsCount() {
    const selectedCount = document.querySelectorAll('.look-product-option.selected').length;
    document.getElementById('selectedProductsCount').textContent = `–í—ã–±—Ä–∞–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤: ${selectedCount}`;
  }

  function previewLookImage() {
    const url = document.getElementById('lookImage').value;
    const preview = document.getElementById('lookImagePreview');
    if (url) {
      preview.src = url;
      preview.style.display = 'block';
      preview.onerror = function() {
        this.style.display = 'none';
        showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', 'error');
      };
    } else {
      preview.style.display = 'none';
    }
  }

  function saveLook() {
    const name = document.getElementById('lookName').value.trim();
    const tag = document.getElementById('lookTag').value.trim();
    const image = document.getElementById('lookImage').value.trim();
    
    // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
    const selectedProducts = [];
    document.querySelectorAll('.look-product-option.selected').forEach(option => {
      const checkbox = option.querySelector('input[type="checkbox"]');
      if (checkbox) {
        selectedProducts.push(parseInt(checkbox.value));
      }
    });
    
    if (!name || !image || selectedProducts.length === 0) {
      showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã', 'error');
      return;
    }
    
    if (selectedProducts.length > 10) {
      showNotification('–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –æ–±—Ä–∞–∑–µ - 10', 'error');
      return;
    }
    
    let looks = JSON.parse(localStorage.getItem('adminLooks')) || [];
    
    const lookData = {
      id: editingLookId || Date.now(),
      name,
      tag: tag || '–û–±—Ä–∞–∑',
      image,
      products: selectedProducts,
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString()
    };
    
    if (editingLookId) {
      // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
      const index = looks.findIndex(l => l.id === editingLookId);
      if (index !== -1) {
        looks[index] = lookData;
        showNotification('–û–±—Ä–∞–∑ –æ–±–Ω–æ–≤–ª–µ–Ω', 'success');
      }
    } else {
      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
      looks.push(lookData);
      showNotification('–û–±—Ä–∞–∑ –¥–æ–±–∞–≤–ª–µ–Ω', 'success');
    }
    
    localStorage.setItem('adminLooks', JSON.stringify(looks));
    
    resetLookForm();
    loadLooksList();
  }

  function resetLookForm() {
    document.getElementById('lookName').value = '';
    document.getElementById('lookTag').value = '';
    document.getElementById('lookImage').value = '';
    document.getElementById('lookImagePreview').style.display = 'none';
    document.querySelectorAll('.look-product-option').forEach(option => {
      option.classList.remove('selected');
      const checkbox = option.querySelector('input[type="checkbox"]');
      if (checkbox) checkbox.checked = false;
    });
    updateSelectedProductsCount();
    editingLookId = null;
  }

  function loadLooksList() {
    const looks = JSON.parse(localStorage.getItem('adminLooks')) || [];
    const container = document.getElementById('looksList');
    
    if (looks.length === 0) {
      container.innerHTML = `
        <div style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
          <i class="fas fa-tshirt" style="font-size: 3rem; color: var(--text-secondary); margin-bottom: 1rem;"></i>
          <h3>–û–±—Ä–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
          <p>–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–æ—Ä–º—É –≤—ã—à–µ</p>
        </div>
      `;
      return;
    }
    
    container.innerHTML = looks.map(look => {
      // –ü–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
      let productNames = [];
      let catalogProducts = JSON.parse(localStorage.getItem('catalogProducts')) || [];
      
      look.products.forEach(productId => {
        const product = catalogProducts.find(p => p.id == productId);
        if (product) {
          productNames.push(product.name);
        }
      });
      
      // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
      const displayProducts = productNames.slice(0, 3);
      const remaining = productNames.length > 3 ? ` –∏ –µ—â–µ ${productNames.length - 3} —Ç–æ–≤–∞—Ä–æ–≤` : '';
      
      return `
        <div class="look-card-admin">
          <div class="look-card-image">
            <img src="${look.image}" alt="${look.name}" onerror="this.src='https://images.unsplash.com/photo-1496747611176-843222e1e57c?auto=format&fit=crop&w=400&q=80'">
          </div>
          <div class="look-card-content">
            <div class="look-card-title">${look.name}</div>
            <div class="look-card-tag">${look.tag}</div>
            <div class="look-card-products">
              <p><strong>–¢–æ–≤–∞—Ä–æ–≤:</strong> ${look.products.length}</p>
              <ul>
                ${displayProducts.map(name => `<li>${name}</li>`).join('')}
                ${remaining ? `<li>${remaining}</li>` : ''}
              </ul>
            </div>
            <div class="look-card-actions">
              <button class="btn btn-secondary btn-small" onclick="editLook(${look.id})">
                <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
              </button>
              <button class="btn btn-secondary btn-small" onclick="deleteLook(${look.id})">
                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
              </button>
            </div>
          </div>
        </div>
      `;
    }).join('');
  }

  function editLook(lookId) {
    const looks = JSON.parse(localStorage.getItem('adminLooks')) || [];
    const look = looks.find(l => l.id === lookId);
    
    if (!look) {
      showNotification('–û–±—Ä–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
      return;
    }
    
    editingLookId = lookId;
    document.getElementById('lookName').value = look.name;
    document.getElementById('lookTag').value = look.tag || '';
    document.getElementById('lookImage').value = look.image;
    previewLookImage();
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è
    document.querySelectorAll('.look-product-option').forEach(option => {
      option.classList.remove('selected');
      const checkbox = option.querySelector('input[type="checkbox"]');
      if (checkbox) checkbox.checked = false;
    });
    
    // –í—ã–¥–µ–ª—è–µ–º —Ç–æ–≤–∞—Ä—ã –∏–∑ –æ–±—Ä–∞–∑–∞
    look.products.forEach(productId => {
      const option = document.querySelector(`.look-product-option input[value="${productId}"]`);
      if (option) {
        option.checked = true;
        option.parentElement.classList.add('selected');
      }
    });
    
    updateSelectedProductsCount();
    showNotification('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞', 'info');
  }

  function deleteLook(lookId) {
    if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ–±—Ä–∞–∑?')) {
      return;
    }
    
    let looks = JSON.parse(localStorage.getItem('adminLooks')) || [];
    looks = looks.filter(l => l.id !== lookId);
    localStorage.setItem('adminLooks', JSON.stringify(looks));
    
    showNotification('–û–±—Ä–∞–∑ —É–¥–∞–ª–µ–Ω', 'success');
    loadLooksList();
  }

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —Å —É—á–µ—Ç–æ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –ø—Ä–∏–±—ã–ª–∏
  function loadOrders() {
    showLoading(true);
    
    orders = JSON.parse(localStorage.getItem('orders')) || [];
    const container = document.getElementById('ordersTable');
    
    if (orders.length === 0) {
      container.innerHTML = `
        <tr>
          <td colspan="9" style="text-align: center; padding: 2rem; color: var(--text-secondary);">
            <i class="fas fa-shopping-cart" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
            –ó–∞–∫–∞–∑–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç
          </td>
        </tr>
      `;
      showLoading(false);
      return;
    }
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–∞—Ö –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏
    const detailedProducts = JSON.parse(localStorage.getItem('detailedProducts')) || {};
    
    const sortedOrders = [...orders].sort((a, b) => new Date(b.date || 0) - new Date(a.date || 0));
    
    container.innerHTML = sortedOrders.map(order => {
      // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –ø—Ä–∏–±—ã–ª—å –¥–ª—è –∑–∞–∫–∞–∑–∞
      let totalCost = 0;
      let totalRevenue = parseFloat(order.total?.replace(/[^\d]/g, '') || 0);
      let profit = 0;
      
      if (order.items && order.items.length > 0) {
        order.items.forEach(item => {
          const product = detailedProducts[item.id];
          if (product && product.cost) {
            totalCost += product.cost * (item.quantity || 1);
          } else {
            // –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏, –æ—Ü–µ–Ω–∏–≤–∞–µ–º –∫–∞–∫ 60% –æ—Ç —Ü–µ–Ω—ã
            totalCost += (item.price || 0) * 0.6 * (item.quantity || 1);
          }
        });
      } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö, –æ—Ü–µ–Ω–∏–≤–∞–µ–º —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∫ 60% –æ—Ç –≤—ã—Ä—É—á–∫–∏
        totalCost = totalRevenue * 0.6;
      }
      
      profit = totalRevenue - totalCost;
      const margin = totalRevenue > 0 ? ((profit / totalRevenue) * 100) : 0;
      
      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
      const status = order.status || 'new';
      const statusInfo = ORDER_STATUSES[status] || ORDER_STATUSES['new'];
      
      return `
        <tr>
          <td><strong>#${order.id || '0000'}</strong></td>
          <td>${formatDate(order.date)}</td>
          <td>${order.name || '–ë–µ–∑ –∏–º–µ–Ω–∏'}<br><small>${order.phone || ''}</small></td>
          <td>${order.items ? order.items.length + ' —à—Ç.' : '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}</td>
          <td>${formatCurrency(totalRevenue)}</td>
          <td>${formatCurrency(totalCost)}</td>
          <td><span class="badge-profit ${profit >= 0 ? 'positive' : 'negative'}">
            ${formatCurrency(profit)}<br><small>${margin.toFixed(1)}%</small>
          </span></td>
          <td>
            <span class="table-badge">
              <i class="${statusInfo.icon}"></i> ${statusInfo.name}
            </span>
          </td>
          <td>
            <div class="table-actions">
              <button class="action-btn" onclick="viewOrder('${order.id}')">
                <i class="fas fa-eye"></i>
              </button>
              <button class="action-btn" onclick="editOrder('${order.id}')">
                <i class="fas fa-edit"></i>
              </button>
            </div>
          </td>
        </tr>
      `;
    }).join('');
    
    showLoading(false);
  }

  function viewOrder(orderId) {
    const order = orders.find(o => o.id == orderId);
    
    if (!order) {
      showNotification('–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'error');
      return;
    }
    
    const detailedProducts = JSON.parse(localStorage.getItem('detailedProducts')) || {};
    let itemsText = '';
    let totalCost = 0;
    let totalRevenue = 0;
    
    if (order.items && order.items.length > 0) {
      itemsText = order.items.map(item => {
        const product = detailedProducts[item.id];
        const cost = product ? product.cost || 0 : 0;
        const itemCost = cost * (item.quantity || 1);
        totalCost += itemCost;
        totalRevenue += (item.price || 0) * (item.quantity || 1);
        
        return `${item.name} - ${item.quantity || 1} —à—Ç. √ó ${formatCurrency(item.price)} = ${formatCurrency(item.price * (item.quantity || 1))} (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å: ${formatCurrency(itemCost)})`;
      }).join('\n');
    } else {
      totalRevenue = parseFloat(order.total?.replace(/[^\d]/g, '') || 0);
      totalCost = totalRevenue * 0.6;
    }
    
    const profit = totalRevenue - totalCost;
    const margin = totalRevenue > 0 ? ((profit / totalRevenue) * 100) : 0;
    const status = order.status || 'new';
    const statusInfo = ORDER_STATUSES[status] || ORDER_STATUSES['new'];
    
    const message = `
–ó–∞–∫–∞–∑ #${order.id}
–î–∞—Ç–∞: ${order.date || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}
–°—Ç–∞—Ç—É—Å: ${statusInfo.name}

–ö–ª–∏–µ–Ω—Ç: ${order.name || '–ù–µ —É–∫–∞–∑–∞–Ω'}
–¢–µ–ª–µ—Ñ–æ–Ω: ${order.phone || '–ù–µ —É–∫–∞–∑–∞–Ω'}
Email: ${order.email || '–ù–µ —É–∫–∞–∑–∞–Ω'}
–ê–¥—Ä–µ—Å: ${order.address || '–ù–µ —É–∫–∞–∑–∞–Ω'}

–¢–æ–≤–∞—Ä—ã:
${itemsText || '–ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏'}

–§–∏–Ω–∞–Ω—Å—ã:
–í—ã—Ä—É—á–∫–∞: ${formatCurrency(totalRevenue)}
–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å: ${formatCurrency(totalCost)}
–ü—Ä–∏–±—ã–ª—å: ${formatCurrency(profit)} (${margin.toFixed(1)}%)
    `.trim();

    alert(message);
  }

  // –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –æ—Ç—á–µ—Ç
  function updateFinanceReport() {
    showLoading(true);
    
    try {
      const period = document.getElementById('financePeriod').value;
      const reportType = document.getElementById('financeType').value;
      
      // –§–∏–ª—å—Ç—Ä—É–µ–º –∑–∞–∫–∞–∑—ã –ø–æ –ø–µ—Ä–∏–æ–¥—É
      let filteredOrders = [...orders];
      const now = new Date();
      
      switch(period) {
        case 'today':
          const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
          filteredOrders = filteredOrders.filter(order => new Date(order.date) >= today);
          break;
        case 'yesterday':
          const yesterday = new Date(now.getFullYear(), now.getMonth(), now.getDate() - 1);
          const todayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate());
          filteredOrders = filteredOrders.filter(order => {
            const orderDate = new Date(order.date);
            return orderDate >= yesterday && orderDate < todayStart;
          });
          break;
        case 'week':
          const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
          filteredOrders = filteredOrders.filter(order => new Date(order.date) >= weekAgo);
          break;
        case 'month':
          const monthAgo = new Date(now.getFullYear(), now.getMonth() - 1, now.getDate());
          filteredOrders = filteredOrders.filter(order => new Date(order.date) >= monthAgo);
          break;
        case 'quarter':
          const quarterAgo = new Date(now.getFullYear(), now.getMonth() - 3, now.getDate());
          filteredOrders = filteredOrders.filter(order => new Date(order.date) >= quarterAgo);
          break;
        case 'year':
          const yearAgo = new Date(now.getFullYear() - 1, now.getMonth(), now.getDate());
          filteredOrders = filteredOrders.filter(order => new Date(order.date) >= yearAgo);
          break;
      }
      
      // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
      let totalRevenue = 0;
      let totalCost = 0;
      let totalProfit = 0;
      
      const detailedProducts = JSON.parse(localStorage.getItem('detailedProducts')) || {};
      
      filteredOrders.forEach(order => {
        const revenue = parseFloat(order.total?.replace(/[^\d]/g, '') || 0);
        totalRevenue += revenue;
        
        let orderCost = 0;
        if (order.items && order.items.length > 0) {
          order.items.forEach(item => {
            const product = detailedProducts[item.id];
            if (product && product.cost) {
              orderCost += product.cost * (item.quantity || 1);
            } else {
              orderCost += (item.price || 0) * 0.6 * (item.quantity || 1);
            }
          });
        } else {
          orderCost = revenue * 0.6;
        }
        
        totalCost += orderCost;
      });
      
      totalProfit = totalRevenue - totalCost;
      const avgMargin = totalRevenue > 0 ? ((totalProfit / totalRevenue) * 100) : 0;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
      document.getElementById('periodRevenue').textContent = formatCurrency(totalRevenue);
      document.getElementById('periodProfit').textContent = formatCurrency(totalProfit);
      document.getElementById('periodMargin').textContent = `${avgMargin.toFixed(1)}%`;
      document.getElementById('periodOrders').textContent = filteredOrders.length;
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
      updateFinanceDetailsTable(filteredOrders, reportType);
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞:', error);
      showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞', 'error');
    }
    
    showLoading(false);
  }

  // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
  function updateAnalytics() {
    showLoading(true);
    
    try {
      // –û–±–Ω–æ–≤–ª—è–µ–º –≥—Ä–∞—Ñ–∏–∫–∏
      updateAnalyticsCharts();
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É —Ç–æ–ø-5 —Ç–æ–≤–∞—Ä–æ–≤
      updateTopProductsTable();
      
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:', error);
      showNotification('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏', 'error');
    }
    
    showLoading(false);
  }

  function updateAnalyticsCharts() {
    // –ì—Ä–∞—Ñ–∏–∫ –≤—ã—Ä—É—á–∫–∏ –∏ –ø—Ä–∏–±—ã–ª–∏
    const revenueCtx = document.getElementById('revenueChart').getContext('2d');
    
    if (revenueChart) {
      revenueChart.destroy();
    }
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
    const days = Array.from({length: 30}, (_, i) => {
      const date = new Date();
      date.setDate(date.getDate() - (29 - i));
      return date.toLocaleDateString('ru-RU', { day: 'numeric', month: 'short' });
    });
    
    const revenueData = days.map(() => Math.floor(Math.random() * 80000) + 30000);
    const profitData = revenueData.map(revenue => Math.floor(revenue * (0.25 + Math.random() * 0.15)));
    const costData = revenueData.map((revenue, i) => revenue - profitData[i]);
    
    revenueChart = new Chart(revenueCtx, {
      type: 'bar',
      data: {
        labels: days,
        datasets: [
          {
            label: '–í—ã—Ä—É—á–∫–∞',
            data: revenueData,
            backgroundColor: 'rgba(0, 0, 0, 0.7)',
            borderColor: '#000000',
            borderWidth: 1
          },
          {
            label: '–ü—Ä–∏–±—ã–ª—å',
            data: profitData,
            backgroundColor: 'rgba(39, 174, 96, 0.7)',
            borderColor: '#27ae60',
            borderWidth: 1
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            labels: {
              color: '#000000'
            }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(0, 0, 0, 0.1)'
            },
            ticks: {
              color: '#666666',
              callback: function(value) {
                return (value / 1000).toFixed(0) + 'k';
              }
            }
          },
          x: {
            grid: {
              color: 'rgba(0, 0, 0, 0.1)'
            },
            ticks: {
              color: '#666666',
              maxRotation: 45
            }
          }
        }
      }
    });
    
    // –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–¥–∞–∂ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    const categoryCtx = document.getElementById('categoryChart').getContext('2d');
    
    if (categoryChart) {
      categoryChart.destroy();
    }
    
    const categories = ['–û–±—É–≤—å', '–ú—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞', '–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞', '–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã', '–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞'];
    const categoryData = categories.map(() => Math.floor(Math.random() * 500000) + 200000);
    
    categoryChart = new Chart(categoryCtx, {
      type: 'polarArea',
      data: {
        labels: categories,
        datasets: [{
          data: categoryData,
          backgroundColor: [
            'rgba(0, 0, 0, 0.7)',
            'rgba(52, 152, 219, 0.7)',
            'rgba(155, 89, 182, 0.7)',
            'rgba(39, 174, 96, 0.7)',
            'rgba(241, 196, 15, 0.7)'
          ],
          borderWidth: 1,
          borderColor: '#ffffff'
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            position: 'right',
            labels: {
              color: '#000000',
              padding: 20
            }
          }
        }
      }
    });
  }

  function updateTopProductsTable() {
    const container = document.getElementById('topProductsTable');
    const adminProducts = JSON.parse(localStorage.getItem('adminProducts')) || [];
    
    // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã –ø–æ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
    const topProducts = adminProducts
      .map(product => {
        const sales = Math.floor(Math.random() * 100) + 10;
        const revenue = (product.price || 0) * sales;
        const profit = (product.profit || 0) * sales;
        const margin = product.margin || 0;
        
        return {
          name: product.name,
          sales: sales,
          revenue: revenue,
          profit: profit,
          margin: margin
        };
      })
      .sort((a, b) => b.profit - a.profit)
      .slice(0, 5);
    
    if (topProducts.length === 0) {
      container.innerHTML = `
        <tr>
          <td colspan="5" style="text-align: center; padding: 1rem; color: var(--text-secondary);">
            –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö
          </td>
        </tr>
      `;
      return;
    }
    
    container.innerHTML = topProducts.map((product, index) => `
      <tr>
        <td><strong>${index + 1}. ${product.name}</strong></td>
        <td>${product.sales} —à—Ç.</td>
        <td>${formatCurrency(product.revenue)}</td>
        <td><span class="badge-profit positive">${formatCurrency(product.profit)}</span></td>
        <td>${product.margin.toFixed(1)}%</td>
      </tr>
    `).join('');
  }

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  function loadSettings() {
    const settings = JSON.parse(localStorage.getItem('adminSettings')) || {};
    
    document.getElementById('shopName').value = settings.shopName || 'DROP SHOP –Ø–∫—É—Ç—Å–∫';
    document.getElementById('shopPhone').value = settings.shopPhone || '+7 (999) 123-45-67';
    document.getElementById('shopEmail').value = settings.shopEmail || 'info@dropshop-ykt.ru';
    document.getElementById('shopAddress').value = settings.shopAddress || '–Ø–∫—É—Ç—Å–∫, —É–ª. –õ–µ–Ω–∏–Ω–∞, 15';
    document.getElementById('telegramToken').value = settings.telegramToken || '';
    document.getElementById('telegramChatId').value = settings.telegramChatId || '';
    
    document.getElementById('deliveryYakutsk').checked = settings.deliveryYakutsk !== false;
    document.getElementById('pickupAvailable').checked = settings.pickupAvailable !== false;
    document.getElementById('freeDelivery').checked = settings.freeDelivery !== false;
  }

  function saveSettings() {
    const settings = {
      shopName: document.getElementById('shopName').value,
      shopPhone: document.getElementById('shopPhone').value,
      shopEmail: document.getElementById('shopEmail').value,
      shopAddress: document.getElementById('shopAddress').value,
      telegramToken: document.getElementById('telegramToken').value,
      telegramChatId: document.getElementById('telegramChatId').value,
      deliveryYakutsk: document.getElementById('deliveryYakutsk').checked,
      pickupAvailable: document.getElementById('pickupAvailable').checked,
      freeDelivery: document.getElementById('freeDelivery').checked,
      updatedAt: new Date().toISOString()
    };
    
    localStorage.setItem('adminSettings', JSON.stringify(settings));
    showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã', 'success');
  }

  function resetSettings() {
    if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?')) {
      localStorage.removeItem('adminSettings');
      loadSettings();
      showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã', 'info');
    }
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  function formatDate(dateString) {
    if (!dateString) return '–î–∞—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞';
    
    try {
      const date = new Date(dateString);
      return date.toLocaleDateString('ru-RU', {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
    } catch (e) {
      return dateString;
    }
  }

  // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  document.getElementById('productImages').addEventListener('input', function() {
    const urls = this.value.split(',').map(url => url.trim()).filter(url => url);
    const preview = document.getElementById('imagePreview');
    preview.innerHTML = '';
    
    urls.slice(0, 5).forEach(url => {
      const img = document.createElement('img');
      img.src = url;
      img.className = 'preview-image';
      img.onerror = function() {
        this.src = 'https://images.unsplash.com/photo-1560769629-975ec94e6a86?auto=format&fit=crop&w=200&h=150&q=80';
      };
      preview.appendChild(img);
    });
  });

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  document.addEventListener('DOMContentLoaded', function() {
    const isLoggedIn = localStorage.getItem('adminLoggedIn') === 'true';
    
    if (isLoggedIn) {
      const sessionData = localStorage.getItem('adminSession');
      if (sessionData) {
        try {
          const session = JSON.parse(atob(sessionData));
          const sessionAge = Date.now() - session.timestamp;
          
          if (sessionAge < 8 * 60 * 60 * 1000) {
            showAdminPanel();
            return;
          }
        } catch (e) {
          console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–µ—Å—Å–∏–∏:', e);
        }
      }
      
      logoutAdmin();
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏
    calculateMargin();
  });
</script>
</body>
</html>